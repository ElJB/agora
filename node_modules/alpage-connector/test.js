var Alpage = require('./index.js'),
	log = require('./log.js'),
	assert = require('assert');

var alpage = new Alpage("J'adore la chanson que tu as chantée, elle n'était pas fantastique.")	

alpage.parse()
	.then(function(tree){

		assert(tree);
		assert(tree.groups.length == 8);
		assert(tree.relations.length == 10);

		assert(tree.words.E1F4.parent().children());

		tree.not();

		assert.equal(tree.lemmaString(), "cln adorer le chanson que cln avoir chanter , cln NOT_ne NOT_être pas NOT_fantastique .");
	})
	.catch(function(err){
		console.log(err.stack);
		assert(!err);
	});

var alpage = new Alpage("Engagée dans une certaine mesure par le consortium Agreenium, cette démarche sera approfondie grâce au projet, \
	présenté par le Gouvernement, d’un Institut agronomique et vétérinaire de France, tant dans son périmètre que dans son champ de compétences, \
	élargi.");

alpage.parse()
	.catch(function(err){
		console.log(err.stack);
	});

var alpage = new Alpage("Le traitement phytosanitaire pose un problème très important que quelques propositions ne peuvent suffire à résoudre.");

alpage.parse()
	.then(function(tree){
		tree.not();
		console.log(tree.lemmaString());
		assert.equal(tree.lemmaString(), "le traitement photo sanitaire poser un problème très importer que quelque proposition NOT_ne NOT_pouvoir NOT_suffire à résoudre .");
	})
	.catch(function(err){
		console.log(err.stack);
	});